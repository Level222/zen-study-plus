# ZEN Study +

[![Chrome Web Store Version](https://img.shields.io/chrome-web-store/v/bbnjgcjpnialjodpkneedbcflnidahac.svg)](https://chromewebstore.google.com/detail/bbnjgcjpnialjodpkneedbcflnidahac)
[![License: MIT](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

ZEN Study に様々な機能を追加する Chrome 拡張機能

## インストール

以下の2種類の方法から選択する。

### Chrome ウェブストアからインストール

自動でアップデートされるため、一般的に推奨される。

下記ウェブストアにアクセスした際「Chrome Web Store へのアクセス権がありません。」と表示される場合、ウェブストア経由で使用中のプロファイルにインストールすることができない。別のプロファイルに切り替えるか、後述の [Zip ファイルをダウンロードしてインストールする方法](#zip-ファイルをダウンロードしてインストール)をとる必要がある。

1. [ZEN Study + の Chrome ウェブストア](https://chromewebstore.google.com/detail/bbnjgcjpnialjodpkneedbcflnidahac)にアクセス
2. 指示に従いインストール

### Zip ファイルをダウンロードしてインストール

![install with zip](screenshots/install-with-zip.png)

1. [最新のリリース](https://github.com/Level222/zen-study-plus/releases/latest)にアクセス
2. Assets 内の `zen-study-plus-v{バージョン}.zip` をダウンロード（Zip ファイルは解凍不要）
3. アドレスバーから `chrome://extensions` にアクセス
4. 右上の「デベロッパーモード」を有効にする
5. ダウンロードした Zip ファイルをドラッグアンドドロップでインストール
   - インストール後、Zip ファイルは削除可能
   - うまくドラッグアンドドロップできない場合、拡張機能一覧ページを再読込するか、左上の「非パッケージ拡張機能を読み込む」からインストールする
6. 今後アップデートする際は、手順 1–5 を繰り返し、古い拡張機能は削除する

## 機能

### 動画の合計時間の表示

![movie time chapter page](screenshots/movie-time-chapter-page.png)

- チャプターページに現在のチャプターの合計動画時間を表示
- コースページと月間レポートページに、各チャプターの合計時間と全チャプターの合計時間を表示
- マイコースページに各コースの合計時間を表示するボタンを設置

### テキスト入力時の単語数の表示

![word count](screenshots/word-count.png)

- 入力フィールドに文字数とともに単語数を表示
- 日本語など単語間に空白がない言語でもカウント可能

### キーボードショートカット

- カスタマイズ可能なキーボードショートカットを利用できる
- 修飾キーを押していても反応してしまう問題がある、デフォルトの動画キーボードショートカットを無効化する

#### ショートカット一覧

- 動画操作（多くは拡張機能なしでも使用可能だが、チャプターページのトップフレームからはトリガーできない）
  - 再生/一時停止（デフォルト: `K`）
  - 巻き戻し（デフォルト: `J`、秒数は変更可能）
  - 早送り（デフォルト: `L`、秒数は変更可能）
  - ミュート（デフォルト: `M`）
  - 全画面表示（デフォルト: `F`）
  - ピクチャー・イン・ピクチャー（デフォルト: `P`）
  - シアターモード（デフォルト: `T`）
- セクションを拡大（デフォルト: `Ctrl+B`）
- 前のセクション（デフォルト: `Ctrl+Shift+ArrowUp`）
- 次のセクション（デフォルト: `Ctrl+Shift+ArrowDown`）

### Tab キーによるフォーカスの改善

- MathJax 数式の `Tab` キーによるフォーカスを無効化し、意図しないフォーカス移動を防ぐ

### 補助テキストのサイズ調整

- 動画下部の補助テキストにスクロールバーが必ず表示されないようにする
- 有効にしてもスクロールバーが表示される場合は、余分な高さを追加して対応可能

### 動画の固定表示の修正

- 動画読み込み時にまれに固定表示されてしまう問題を修正
- または、シアターモード以外での動画固定表示を完全に無効化することも可能

### オプションページ

- 拡張機能のポップアップ、または `chrome://extensions/` のページからアクセス可能

## 貢献方法

問題を報告・修正したり、機能を提案・追加したりする場合は、[貢献方法](CONTRIBUTING.md)をご確認ください。

## ロードマップ

- [x] オプションページ
- [x] 動画の合計時間の表示
- [x] テキスト入力時の単語数の表示
- [x] キーボードショートカット
- [x] MathJax の `Tab` キーによるフォーカスの無効化
- [x] 補助テキストのサイズ調整
- [x] 動画の固定表示の修正
- [ ] 入力履歴のバックアップ

## ライセンス

[MIT](LICENSE)
